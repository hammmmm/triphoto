.main
  .pagenation
    = paginate(@posts)
  .main__contents
    - @posts.each do |post|
      .main__contents__item
        = image_tag post.image_url, class: "image"
        .list
          - if user_signed_in? && current_user.id == post.user_id
            = link_to "edit", edit_post_path(post.id), method: :get, class: "li li__edit"
            = link_to "delete", post_path(post.id), method: :delete, class: "li li__delete", data:{confirm: "delete?"}
        .like
          - if user_signed_in?
            - if post.liked_by?(current_user)
              = link_to post_likes_path(post.id), method: :delete do
                = icon('fas', 'heart', class: 'unlike-btn')
                = post.likes.count
            - else
              = link_to post_likes_path(post.id), method: :post do
                = icon('fas', 'heart', class: 'like-btn')
                = post.likes.count
          - else
            = icon('fas', 'heart', class: 'like-btn')
            = post.likes.count